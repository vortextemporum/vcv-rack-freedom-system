<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MinimalKick UI Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            overflow: hidden;
            user-select: none;
            -webkit-user-select: none;
        }

        body {
            font-family: Arial, sans-serif;
            background: #1a1a1a;
            color: #cccccc;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 500px;
            height: 300px;
        }

        .led-container {
            position: absolute;
            top: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        .led {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #3a3a3a;
            transition: background 0.1s ease;
        }

        .led.active {
            background: #ffffff;
            box-shadow: 0 0 10px #ffffff;
        }

        .led-label {
            font-size: 9px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #666666;
        }

        .controls {
            display: flex;
            gap: 15px;
            align-items: center;
            justify-content: center;
            margin-top: 20px;
        }

        .knob-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .knob {
            width: 60px;
            height: 60px;
            position: relative;
            cursor: pointer;
        }

        .knob-track {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: #333333;
            position: relative;
        }

        .knob-fill {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(#ffffff 0deg, transparent 0deg);
            transition: background 0.05s linear;
        }

        .knob-pointer {
            position: absolute;
            top: 5px;
            left: 50%;
            width: 2px;
            height: 15px;
            background: #ffffff;
            transform-origin: center 25px;
            transform: translateX(-50%);
        }

        .knob-label {
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #666666;
        }

        .knob-value {
            font-size: 13px;
            color: #ffffff;
            font-weight: normal;
        }
    </style>
</head>
<body>
    <div class="led-container">
        <div class="led" id="led"></div>
        <div class="led-label">TRIGGER</div>
    </div>

    <div class="controls">
        <div class="knob-container">
            <div class="knob" id="pitch-knob" data-param="pitch" data-min="30" data-max="100" data-default="50" data-unit="Hz">
                <div class="knob-track">
                    <div class="knob-fill"></div>
                    <div class="knob-pointer"></div>
                </div>
            </div>
            <div class="knob-label">PITCH</div>
            <div class="knob-value" id="pitch-value">50 Hz</div>
        </div>

        <div class="knob-container">
            <div class="knob" id="decay-knob" data-param="decay" data-min="50" data-max="2000" data-default="400" data-unit="ms">
                <div class="knob-track">
                    <div class="knob-fill"></div>
                    <div class="knob-pointer"></div>
                </div>
            </div>
            <div class="knob-label">DECAY</div>
            <div class="knob-value" id="decay-value">400 ms</div>
        </div>

        <div class="knob-container">
            <div class="knob" id="attack-knob" data-param="attack" data-min="0" data-max="50" data-default="5" data-unit="ms">
                <div class="knob-track">
                    <div class="knob-fill"></div>
                    <div class="knob-pointer"></div>
                </div>
            </div>
            <div class="knob-label">ATTACK</div>
            <div class="knob-value" id="attack-value">5 ms</div>
        </div>

        <div class="knob-container">
            <div class="knob" id="release-knob" data-param="release" data-min="50" data-max="1000" data-default="300" data-unit="ms">
                <div class="knob-track">
                    <div class="knob-fill"></div>
                    <div class="knob-pointer"></div>
                </div>
            </div>
            <div class="knob-label">RELEASE</div>
            <div class="knob-value" id="release-value">300 ms</div>
        </div>

        <div class="knob-container">
            <div class="knob" id="drive-knob" data-param="drive" data-min="0" data-max="100" data-default="20" data-unit="%">
                <div class="knob-track">
                    <div class="knob-fill"></div>
                    <div class="knob-pointer"></div>
                </div>
            </div>
            <div class="knob-label">DRIVE</div>
            <div class="knob-value" id="drive-value">20%</div>
        </div>
    </div>

    <script>
        // Disable context menu
        document.addEventListener('contextmenu', (e) => e.preventDefault());

        // Mock parameter state
        const paramState = {
            pitch: 50,
            decay: 400,
            attack: 5,
            release: 300,
            drive: 20
        };

        // Initialize knobs
        document.querySelectorAll('.knob').forEach(knob => {
            const param = knob.dataset.param;
            const min = parseFloat(knob.dataset.min);
            const max = parseFloat(knob.dataset.max);
            const defaultVal = parseFloat(knob.dataset.default);
            const unit = knob.dataset.unit;

            let isDragging = false;
            let startY = 0;
            let startValue = defaultVal;

            // Set initial value
            paramState[param] = defaultVal;
            updateKnobVisual(knob, defaultVal, min, max, unit);

            knob.addEventListener('mousedown', (e) => {
                isDragging = true;
                startY = e.clientY;
                startValue = paramState[param];
                e.preventDefault();
            });

            document.addEventListener('mousemove', (e) => {
                if (!isDragging) return;

                const deltaY = startY - e.clientY;
                const range = max - min;
                const sensitivity = range / 200;
                let newValue = startValue + (deltaY * sensitivity);

                newValue = Math.max(min, Math.min(max, newValue));
                paramState[param] = newValue;

                updateKnobVisual(knob, newValue, min, max, unit);
                console.log(`Parameter: ${param}, Value: ${newValue.toFixed(1)} ${unit}`);
            });

            document.addEventListener('mouseup', () => {
                isDragging = false;
            });
        });

        function updateKnobVisual(knob, value, min, max, unit) {
            const param = knob.dataset.param;
            const normalized = (value - min) / (max - min);
            const angle = normalized * 270 - 135;
            const fillDeg = normalized * 270;

            const fill = knob.querySelector('.knob-fill');
            const pointer = knob.querySelector('.knob-pointer');
            const valueDisplay = document.getElementById(`${param}-value`);

            fill.style.background = `conic-gradient(#ffffff ${fillDeg}deg, transparent ${fillDeg}deg)`;
            pointer.style.transform = `translateX(-50%) rotate(${angle}deg)`;

            let displayValue = value.toFixed(value < 10 ? 1 : 0);
            valueDisplay.textContent = `${displayValue} ${unit}`;
        }

        // LED trigger simulation (click anywhere to trigger)
        document.addEventListener('click', () => {
            const led = document.getElementById('led');
            led.classList.add('active');
            setTimeout(() => led.classList.remove('active'), 200);
        });

        console.log('MinimalKick UI Test - Click anywhere to trigger LED');
        console.log('Drag knobs vertically to adjust parameters');
    </script>
</body>
</html>
